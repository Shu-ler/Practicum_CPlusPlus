#pragma once

namespace geo {

    /**
     * @brief Географические координаты: широта и долгота.
     */
    struct Coordinates {
        double lat; // широта в градусах
        double lng; // долгота в градусах
    };

    // =============================================================================
    // Константы для геометрических вычислений
    // =============================================================================

    /**
     * @brief Число π (пи) — математическая константа.
     */
    constexpr double PI = 3.14159265358979323846;

    /**
     * @brief Коэффициент перевода градусов в радианы.
     *
     * Используется для тригонометрических функций (sin, cos).
     *
     * Пример: угол в радианах = угол_в_градусах * DEG_TO_RAD
     */
    constexpr double DEG_TO_RAD = PI / 180.0;

    /**
     * @brief Средний радиус Земли в метрах.
     *
     * Используется для вычисления расстояний по дуге большого круга.
     *
     * Значение: 6 371 000 метров — стандартное среднее.
     */
    constexpr double EARTH_RADIUS_METERS = 6371000;

    /**
     * @brief Длина одного градуса широты в метрах (приблизительно).
     *
     * Рассчитывается как: EARTH_RADIUS_METERS * DEG_TO_RAD
     *
     * Используется при проекции координат на плоскость (например, в SphereProjector).
     *
     * Пример: разница в 1° по широте ≈ 111.2 км
     */
    constexpr double DEG_TO_METER = EARTH_RADIUS_METERS* DEG_TO_RAD;

    // =============================================================================
    // Функции
    // =============================================================================

    /**
     * @brief Вычисляет расстояние между двумя точками на сфере.
     *
     * Использует формулу "haversine" через acos.
     *
     * @param from Начальная точка
     * @param to Конечная точка
     * @return Расстояние в метрах
     */
    double ComputeDistance(Coordinates from, Coordinates to);

} // namespace geo
